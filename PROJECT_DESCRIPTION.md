
# ЛОГАЗ SV - Информационная система управления топливными картами

## Обзор проекта

**ЛОГАЗ SV** — современная web-приложение для управления топливными картами и мониторинга транзакций, предназначенная для транспортных компаний и корпоративных клиентов. Система обеспечивает полный контроль над топливными расходами, управление картами сотрудников и детальную аналитику в режиме реального времени.

## Технический стек

### Frontend
- **React 18** с TypeScript
- **Vite** - сборщик и dev-сервер
- **React Router** - маршрутизация
- **Tailwind CSS** - стилизация
- **shadcn/ui** - UI компоненты
- **Lucide React** - иконки
- **React Hook Form** - работа с формами
- **Recharts** - визуализация данных
- **React Query** - управление состоянием сервера
- **Vitest** - тестирование

### Инструменты разработки
- **ESLint** - линтинг кода
- **TypeScript** - типизация
- **GitHub Actions** - CI/CD
- **GitHub Pages** - хостинг

## Архитектура приложения

### Структура проекта
```
src/
├── components/           # UI компоненты
│   ├── dashboard/        # Компоненты главной страницы
│   ├── layout/           # Компоненты разметки (Header, Sidebar, Layout)
│   ├── payment/          # Компоненты для работы с платежами
│   ├── transactions/     # Компоненты для управления транзакциями
│   └── ui/               # Базовые UI компоненты (shadcn/ui)
├── context/              # React Context для управления состоянием
├── hooks/                # Кастомные React хуки
├── lib/                  # Вспомогательные функции и утилиты
├── pages/                # Страницы приложения
└── __tests__/            # Тесты компонентов
```

### Основные компоненты

#### Layout компоненты
- **Layout** - основная разметка с условным рендерингом для auth страниц
- **Header** - шапка с поиском, уведомлениями и профилем пользователя
- **Sidebar** - боковое меню с навигацией, поддержка мобильных устройств

#### Dashboard компоненты
- **StatCard** - карточки со статистикой (баланс, активные карты, объем топлива)
- **ChartCard** - универсальный компонент для графиков (line, bar, pie)
- **TransactionTable** - таблица последних транзакций
- **PeriodFilter** - фильтр по периодам (год, квартал, месяц, неделя, день)

#### Управление состоянием
- **AppContext** - глобальное состояние приложения (пользователь, компания, ошибки)
- **ErrorHandler** - компонент для отображения ошибок

## Функциональные возможности

### 1. Аутентификация и авторизация
- Вход по ИНН и паролю
- Управление сессией пользователя
- Защищенные маршруты

### 2. Главная страница (Dashboard)
- **Статистические карточки:**
  - Общий баланс (собственные средства + овердрафт)
  - Количество активных карт
  - Объем потребленного топлива
  - Сумма расходов за период
  
- **Аналитические графики:**
  - Структура общего баланса (bar chart)
  - Динамика расходов (line chart)
  - Распределение по видам топлива (pie chart)
  - Топ автомобилей по расходам (bar chart)

- **Таблица транзакций:**
  - Последние операции по картам
  - Детали: дата, время, номер карты, водитель, тип топлива, объем, сумма, АГЗС

### 3. Управление топливными картами
- Просмотр всех карт компании
- Статусы карт (активная, приостановлена, заблокирована)
- Управление лимитами и ограничениями

### 4. Транзакции
- **Фильтрация:**
  - По картам
  - По виду топлива
  - По АГЗС
  - По сумме (минимальная/максимальная)
  - По периодам
- **Функции:**
  - Сброс фильтров
  - Группировка данных
  - Экспорт отчетов

### 5. Платежи и счета
- **Запрос счетов:**
  - Форма создания счета
  - Выбор договора
  - Указание суммы и комментария
- **Управление счетами:**
  - Таблица выставленных счетов
  - Статусы оплаты
  - Действия: просмотр, отправка, печать

### 6. Отчетность
- Бухгалтерские отчеты
- Аналитика по расходам
- Экспорт данных

### 7. Управление компанией и пользователями
- Информация о компании
- Управление пользователями и их ролями
- Настройки доступа

### 8. Дополнительные функции
- Уведомления
- Техническая поддержка
- Адаптивный дизайн для мобильных устройств

## UI/UX особенности

### Дизайн-система
- **Цветовая палитра:**
  - Основной синий: `#3B55A2` (logaz-blue)
  - Оранжевый: `#FB8607` (logaz-orange)
  - Зеленый: `#4CAF50` (logaz-green)
  - Красный: `#F44336` (logaz-red)
  - Темно-серый: `#333333` (logaz-dark-gray)
  - Серый: `#CCCCCC` (logaz-gray)
  - Светло-серый: `#F5F5F5` (logaz-light-gray)

### Типографика
- **Основной шрифт:** системный font-stack
- **Заголовки:** Syncopate (для логотипа и заголовков)

### Анимации
- Плавные переходы для hover состояний
- Анимации появления элементов (fade-in, scale-in)
- Smooth scroll для навигации

### Адаптивность
- Мобильная версия с hamburger меню
- Responsive grid layouts
- Оптимизация для планшетов и десктопов

## Особенности реализации

### Производительность
- Виртуализация больших списков транзакций
- Мемоизация компонентов и вычислений
- Lazy loading для тяжелых компонентов

### Управление состоянием
- React Context для глобального состояния
- React Query для серверного состояния
- Local state для локальных UI состояний

### Обработка ошибок
- Централизованная система обработки ошибок
- Toast уведомления для пользователя
- Автоматическое скрытие ошибок через 5 секунд

### Тестирование
- Unit тесты для компонентов
- Integration тесты для контекста
- Vitest + React Testing Library

## Роли пользователей

### Администратор (admin)
- Полный доступ ко всем функциям
- Управление пользователями
- Настройка системы

### Оператор (operator)
- Управление картами и транзакциями
- Создание отчетов
- Обработка платежей

### Наблюдатель (viewer)
- Просмотр данных
- Создание отчетов
- Без возможности изменений

## API интеграции

### Планируемые интеграции
- REST API для данных транзакций
- WebSocket для real-time уведомлений
- Интеграция с банковскими системами
- Export API для отчетов

## Деплой и хостинг

### Текущее решение
- GitHub Pages для статичного хостинга
- GitHub Actions для автоматического деплоя
- Домен: hub.logazsv.pro

### Планы развития
- Интеграция с Supabase для backend функций
- Аутентификация через базу данных
- Real-time синхронизация данных

## Безопасность

### Текущие меры
- Client-side валидация форм
- Защищенные маршруты
- Безопасная работа с localStorage

### Планируемые улучшения
- Server-side аутентификация
- HTTPS принудительно
- Rate limiting для API
- Шифрование чувствительных данных

## Известные ограничения

1. **Frontend-only архитектура** - отсутствие реального backend
2. **Mock данные** - использование статичных данных для демонстрации
3. **Ограниченная аутентификация** - простая client-side проверка
4. **Отсутствие персистентности** - данные не сохраняются между сессиями

## Roadmap развития

### Краткосрочные цели (1-3 месяца)
- [ ] Интеграция с Supabase
- [ ] Реальная система аутентификации
- [ ] Backend API для данных
- [ ] Улучшение мобильной версии

### Среднесрочные цели (3-6 месяцев)
- [ ] Real-time уведомления
- [ ] Расширенная аналитика
- [ ] Интеграция с внешними системами
- [ ] Многоязычность

### Долгосрочные цели (6+ месяцев)
- [ ] Мобильное приложение
- [ ] AI-powered аналитика
- [ ] Расширенная отчетность
- [ ] Интеграция с IoT устройствами

## Контакты и поддержка

- **Email:** support@logazsv.ru
- **Телефон:** 8 (800) 123-45-67
- **Сайт:** hub.logazsv.pro
- **Техническая документация:** README.md

---

*Последнее обновление: 2025-05-25*
*Версия документа: 1.0*
